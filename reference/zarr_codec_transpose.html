<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Zarr transpose codec — zarr_codec_transpose • zarr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Zarr transpose codec — zarr_codec_transpose"><meta name="description" content='The Zarr "transpose" codec registers the storage order of a data
object relative to the canonical row-major ordering of Zarr. If the
registered ordering is different from the native ordering on the platform
where the array is being read, the data object will be permuted upon
reading.
R data is arranged in column-major order. The most efficient storage
arrangement between Zarr and R is thus column-major ordering, avoiding
encoding to the canonical row-major ordering during storage and decoding to
column-major ordering during a read. If the storage arrangement is not
row-major ordering, a transpose codec must be added to the array
definition. Note that within R, both writing and reading are no-ops when
data is stored in column-major ordering. On the other hand, when no
transpose codec is defined for the array, there will be an automatic
transpose of the data on writing and reading to maintain compatibility with
the Zarr specification. Using the array_builder will automatically add
the transpose codec to the array definition.
For maximum portability (e.g. with Zarr implementations outside of R that
do not implement the transpose codec), data should be stored in row-major
order, which can be achieved by not including this codec in the array
definition.'><meta property="og:description" content='The Zarr "transpose" codec registers the storage order of a data
object relative to the canonical row-major ordering of Zarr. If the
registered ordering is different from the native ordering on the platform
where the array is being read, the data object will be permuted upon
reading.
R data is arranged in column-major order. The most efficient storage
arrangement between Zarr and R is thus column-major ordering, avoiding
encoding to the canonical row-major ordering during storage and decoding to
column-major ordering during a read. If the storage arrangement is not
row-major ordering, a transpose codec must be added to the array
definition. Note that within R, both writing and reading are no-ops when
data is stored in column-major ordering. On the other hand, when no
transpose codec is defined for the array, there will be an automatic
transpose of the data on writing and reading to maintain compatibility with
the Zarr specification. Using the array_builder will automatically add
the transpose codec to the array definition.
For maximum portability (e.g. with Zarr implementations outside of R that
do not implement the transpose codec), data should be stored in row-major
order, which can be achieved by not including this codec in the array
definition.'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">zarr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/01_zarr.html">1. Zarr for R</a></li>
    <li><a class="dropdown-item" href="../articles/02_array_basics.html">2. Working with arrays</a></li>
    <li><a class="dropdown-item" href="../articles/03_attributes.html">3. Working with attributes</a></li>
    <li><a class="dropdown-item" href="../articles/04_http.html">4. HTTP stores</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/R-CF/zarr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Zarr transpose codec</h1>
      <small class="dont-index">Source: <a href="https://github.com/R-CF/zarr/blob/v0.2.0/R/codec.R" class="external-link"><code>R/codec.R</code></a></small>
      <div class="d-none name"><code>zarr_codec_transpose.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The Zarr "transpose" codec registers the storage order of a data
object relative to the canonical row-major ordering of Zarr. If the
registered ordering is different from the native ordering on the platform
where the array is being read, the data object will be permuted upon
reading.</p>
<p>R data is arranged in column-major order. The most efficient storage
arrangement between Zarr and R is thus column-major ordering, avoiding
encoding to the canonical row-major ordering during storage and decoding to
column-major ordering during a read. If the storage arrangement is not
row-major ordering, a transpose codec must be added to the array
definition. Note that within R, both writing and reading are no-ops when
data is stored in column-major ordering. On the other hand, when no
transpose codec is defined for the array, there will be an automatic
transpose of the data on writing and reading to maintain compatibility with
the Zarr specification. Using the <a href="array_builder.html">array_builder</a> will automatically add
the transpose codec to the array definition.</p>
<p>For maximum portability (e.g. with Zarr implementations outside of R that
do not implement the transpose codec), data should be stored in row-major
order, which can be achieved by not including this codec in the array
definition.</p>
    </div>


    <div class="section level2">
    <h2 id="super-classes">Super classes<a class="anchor" aria-label="anchor" href="#super-classes"></a></h2>
    <p><code><a href="zarr_extension.html">zarr::zarr_extension</a></code> -&gt; <code><a href="zarr_codec.html">zarr::zarr_codec</a></code> -&gt; <code>zarr_codec_transpose</code></p>
    </div>
    <div class="section level2">
    <h2 id="active-bindings">Active bindings<a class="anchor" aria-label="anchor" href="#active-bindings"></a></h2>
    <p></p><div class="r6-active-bindings"><dl><dt><code>order</code></dt>
<dd><p>Set or retrieve the 0-based ordering of the dimensions of
the array when storing</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>

<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-zarr_codec_transpose-new"><code>zarr_codec_transpose$new()</code></a></p></li>
<li><p><a href="#method-zarr_codec_transpose-copy"><code>zarr_codec_transpose$copy()</code></a></p></li>
<li><p><a href="#method-zarr_codec_transpose-encode"><code>zarr_codec_transpose$encode()</code></a></p></li>
<li><p><a href="#method-zarr_codec_transpose-decode"><code>zarr_codec_transpose$decode()</code></a></p></li>
</ul></div><p><details open><summary>Inherited methods</summary><ul><li><span class="pkg-link" data-pkg="zarr" data-topic="zarr_codec" data-id="metadata_fragment"><a href="zarr_codec.html#method-metadata_fragment"><code>zarr::zarr_codec$metadata_fragment()</code></a></span></li>
<li><span class="pkg-link" data-pkg="zarr" data-topic="zarr_codec" data-id="print"><a href="zarr_codec.html#method-print"><code>zarr::zarr_codec$print()</code></a></span></li>
</ul></details></p><hr><a id="method-zarr_codec_transpose-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Create a new "transpose" codec object.</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/zarr_codec_transpose.html">zarr_codec_transpose</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">shape_length</span>, configuration <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>shape_length</code></dt>
<dd><p>The length of the shape of the array that this codec
operates on.</p></dd>


<dt><code>configuration</code></dt>
<dd><p>Optional. A list with the configuration parameters
for this codec. The element <code>order</code> specifies the ordering of the
dimensions of the shape relative to the Zarr canonical arrangement. An
integer vector with a length equal to argument
<code>shape_length</code>. The ordering must be 0-based. If not given, the default R
ordering is used.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>An instance of this class.</p>
</div>

</div><p></p><hr><a id="method-zarr_codec_transpose-copy"></a><div class="section">
<h3 id="method-copy-">Method <code>copy()</code><a class="anchor" aria-label="anchor" href="#method-copy-"></a></h3>
<p>Create a new, independent copy of this codec.</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">zarr_codec_transpose</span><span class="op">$</span><span class="fu">copy</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p>An instance of <code>zarr_codec_transpose</code>.</p>
</div>

</div><p></p><hr><a id="method-zarr_codec_transpose-encode"></a><div class="section">
<h3 id="method-encode-">Method <code>encode()</code><a class="anchor" aria-label="anchor" href="#method-encode-"></a></h3>
<p>This method permutes a data object to match the desired
dimension ordering.</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">zarr_codec_transpose</span><span class="op">$</span><span class="fu">encode</span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>data</code></dt>
<dd><p>The data to be permuted, an R matrix or array.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-2">Returns<a class="anchor" aria-label="anchor" href="#returns-2"></a></h4>
<p>The permuted data object, a matrix or array in Zarr store
dimension order.</p>
</div>

</div><p></p><hr><a id="method-zarr_codec_transpose-decode"></a><div class="section">
<h3 id="method-decode-">Method <code>decode()</code><a class="anchor" aria-label="anchor" href="#method-decode-"></a></h3>
<p>This method permutes a data object from a Zarr store to an
R matrix or array.</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">zarr_codec_transpose</span><span class="op">$</span><span class="fu">decode</span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>data</code></dt>
<dd><p>The data to be permuted, from a Zarr store.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-3">Returns<a class="anchor" aria-label="anchor" href="#returns-3"></a></h4>
<p>The permuted data object, an R matrix or array.</p>
</div>

</div>

    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Patrick Van Laake.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

