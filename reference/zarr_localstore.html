<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Zarr Store for the Local File System — zarr_localstore • zarr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Zarr Store for the Local File System — zarr_localstore"><meta name="description" content='This class implements a Zarr store for the local file system.
With this class Zarr stores on devices accessible through the local file
system can be read and written to. This includes locally attached drives,
removable media, NFS mounts, etc.
The chunking pattern is to locate all the chunks of an array in a single
directory. That means that chunks have names like "c0.0.0" in the array
directory.
This class performs no sanity checks on any of the arguments passed to the
methods, for performance reasons. Since this class should be accessed
through group and array objects, it is up to that code to ensure that
arguments are valid, in particular keys and prefixes.'><meta property="og:description" content='This class implements a Zarr store for the local file system.
With this class Zarr stores on devices accessible through the local file
system can be read and written to. This includes locally attached drives,
removable media, NFS mounts, etc.
The chunking pattern is to locate all the chunks of an array in a single
directory. That means that chunks have names like "c0.0.0" in the array
directory.
This class performs no sanity checks on any of the arguments passed to the
methods, for performance reasons. Since this class should be accessed
through group and array objects, it is up to that code to ensure that
arguments are valid, in particular keys and prefixes.'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">zarr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/01_zarr.html">1. Zarr for R</a></li>
    <li><a class="dropdown-item" href="../articles/02_array_basics.html">2. Working with arrays</a></li>
    <li><a class="dropdown-item" href="../articles/03_attributes.html">3. Working with attributes</a></li>
    <li><a class="dropdown-item" href="../articles/04_http.html">4. HTTP stores</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/R-CF/zarr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Zarr Store for the Local File System</h1>
      <small class="dont-index">Source: <a href="https://github.com/R-CF/zarr/blob/main/R/store_local.R" class="external-link"><code>R/store_local.R</code></a></small>
      <div class="d-none name"><code>zarr_localstore.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This class implements a Zarr store for the local file system.
With this class Zarr stores on devices accessible through the local file
system can be read and written to. This includes locally attached drives,
removable media, NFS mounts, etc.</p>
<p>The chunking pattern is to locate all the chunks of an array in a single
directory. That means that chunks have names like "c0.0.0" in the array
directory.</p>
<p>This class performs no sanity checks on any of the arguments passed to the
methods, for performance reasons. Since this class should be accessed
through group and array objects, it is up to that code to ensure that
arguments are valid, in particular keys and prefixes.</p>
    </div>


    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>https://zarr-specs.readthedocs.io/en/latest/v3/stores/filesystem/index.html</p>
    </div>
    <div class="section level2">
    <h2 id="super-class">Super class<a class="anchor" aria-label="anchor" href="#super-class"></a></h2>
    <p><code><a href="zarr_store.html">zarr::zarr_store</a></code> -&gt; <code>zarr_localstore</code></p>
    </div>
    <div class="section level2">
    <h2 id="active-bindings">Active bindings<a class="anchor" aria-label="anchor" href="#active-bindings"></a></h2>
    <p></p><div class="r6-active-bindings"><dl><dt><code>friendlyClassName</code></dt>
<dd><p>(read-only) Name of the class for printing.</p></dd>


<dt><code>root</code></dt>
<dd><p>(read-only) The root directory of the file system store.</p></dd>


<dt><code>uri</code></dt>
<dd><p>(read-only) The URI of the store location.</p></dd>


<dt><code>separator</code></dt>
<dd><p>(read-only) The default chunk separator of the local
file store, usually a dot '.'.</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>

<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-zarr_localstore-new"><code>zarr_localstore$new()</code></a></p></li>
<li><p><a href="#method-zarr_localstore-exists"><code>zarr_localstore$exists()</code></a></p></li>
<li><p><a href="#method-zarr_localstore-clear"><code>zarr_localstore$clear()</code></a></p></li>
<li><p><a href="#method-zarr_localstore-erase"><code>zarr_localstore$erase()</code></a></p></li>
<li><p><a href="#method-zarr_localstore-erase_prefix"><code>zarr_localstore$erase_prefix()</code></a></p></li>
<li><p><a href="#method-zarr_localstore-list_dir"><code>zarr_localstore$list_dir()</code></a></p></li>
<li><p><a href="#method-zarr_localstore-list_prefix"><code>zarr_localstore$list_prefix()</code></a></p></li>
<li><p><a href="#method-zarr_localstore-set"><code>zarr_localstore$set()</code></a></p></li>
<li><p><a href="#method-zarr_localstore-set_if_not_exists"><code>zarr_localstore$set_if_not_exists()</code></a></p></li>
<li><p><a href="#method-zarr_localstore-get"><code>zarr_localstore$get()</code></a></p></li>
<li><p><a href="#method-zarr_localstore-get_metadata"><code>zarr_localstore$get_metadata()</code></a></p></li>
<li><p><a href="#method-zarr_localstore-set_metadata"><code>zarr_localstore$set_metadata()</code></a></p></li>
<li><p><a href="#method-zarr_localstore-is_group"><code>zarr_localstore$is_group()</code></a></p></li>
<li><p><a href="#method-zarr_localstore-create_group"><code>zarr_localstore$create_group()</code></a></p></li>
<li><p><a href="#method-zarr_localstore-create_array"><code>zarr_localstore$create_array()</code></a></p></li>
</ul></div><p><details open><summary>Inherited methods</summary><ul><li><span class="pkg-link" data-pkg="zarr" data-topic="zarr_store" data-id="getsize"><a href="zarr_store.html#method-getsize"><code>zarr::zarr_store$getsize()</code></a></span></li>
<li><span class="pkg-link" data-pkg="zarr" data-topic="zarr_store" data-id="getsize_prefix"><a href="zarr_store.html#method-getsize_prefix"><code>zarr::zarr_store$getsize_prefix()</code></a></span></li>
<li><span class="pkg-link" data-pkg="zarr" data-topic="zarr_store" data-id="is_empty"><a href="zarr_store.html#method-is_empty"><code>zarr::zarr_store$is_empty()</code></a></span></li>
<li><span class="pkg-link" data-pkg="zarr" data-topic="zarr_store" data-id="list"><a href="zarr_store.html#method-list"><code>zarr::zarr_store$list()</code></a></span></li>
</ul></details></p><hr><a id="method-zarr_localstore-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Create an instance of this class.</p>
<p>If the root location does not exist, it will be created. The location
on the file system must be writable by the process creating the store.
The store is not yet functional in the sense that it is just an empty
directory. Write a root group with <code>.$create_group('/', '')</code> or an
array with <code>.$create_array('/', '', metadata)</code> for a single-array store
before any other operations on the store.</p>
<p>If the root location does exist on the file system it must be a valid
Zarr store, as determined by the presence of a "zarr.json" file. It is
an error to try to open a Zarr store on an existing location where this
metadata file is not present.</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/zarr_localstore.html">zarr_localstore</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">root</span>, read_only <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>root</code></dt>
<dd><p>The path to the local store to be created or opened. The path
may use UTF-8 code points. Following the Zarr specification, it is
recommended that the root path has an extension of ".zarr" to easily
identify the location as a Zarr store. When creating a file store, the
root directory cannot already exist.</p></dd>


<dt><code>read_only</code></dt>
<dd><p>Flag to indicate if the store is opened read-only.
Default <code>FALSE</code>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>An instance of this class.</p>
</div>

</div><p></p><hr><a id="method-zarr_localstore-exists"></a><div class="section">
<h3 id="method-exists-">Method <code><a href="https://rdrr.io/r/base/exists.html" class="external-link">exists()</a></code><a class="anchor" aria-label="anchor" href="#method-exists-"></a></h3>
<p>Check if a key exists in the store. The key can point to a
group, an array, or a chunk.</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">zarr_localstore</span><span class="op">$</span><span class="fu">exists</span><span class="op">(</span><span class="va">key</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>key</code></dt>
<dd><p>Character string. The key that the store will be searched for.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p><code>TRUE</code> if argument <code>key</code> is found, <code>FALSE</code> otherwise.</p>
</div>

</div><p></p><hr><a id="method-zarr_localstore-clear"></a><div class="section">
<h3 id="method-clear-">Method <code>clear()</code><a class="anchor" aria-label="anchor" href="#method-clear-"></a></h3>
<p>Clear the store. Remove all keys and values from the store.
Invoking this method deletes affected files on the file system and this
action can not be undone. The only file that will remain is "zarr.json"
or ".zgroup" (version 2) in the root of this store.</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">zarr_localstore</span><span class="op">$</span><span class="fu">clear</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="returns-2">Returns<a class="anchor" aria-label="anchor" href="#returns-2"></a></h4>
<p><code>TRUE</code> if the operation proceeded, <code>FALSE</code> otherwise.</p>
</div>

</div><p></p><hr><a id="method-zarr_localstore-erase"></a><div class="section">
<h3 id="method-erase-">Method <code>erase()</code><a class="anchor" aria-label="anchor" href="#method-erase-"></a></h3>
<p>Remove a key from the store. The key must point to an array
chunk or an empty group. The location of the key and all of its values
are removed.</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">zarr_localstore</span><span class="op">$</span><span class="fu">erase</span><span class="op">(</span><span class="va">key</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>key</code></dt>
<dd><p>Character string. The key to remove from the store.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-3">Returns<a class="anchor" aria-label="anchor" href="#returns-3"></a></h4>
<p><code>TRUE</code> if the operation proceeded, <code>FALSE</code> otherwise.</p>
</div>

</div><p></p><hr><a id="method-zarr_localstore-erase_prefix"></a><div class="section">
<h3 id="method-erase-prefix-">Method <code>erase_prefix()</code><a class="anchor" aria-label="anchor" href="#method-erase-prefix-"></a></h3>
<p>Remove all keys in the store that begin with a given prefix.
The last location in the prefix is preserved while all keys below are
removed from the store. Any metadata extensions added to the group
pointed to by the prefix will be deleted as well - only a basic
group-identifying metadata file will remain.</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">zarr_localstore</span><span class="op">$</span><span class="fu">erase_prefix</span><span class="op">(</span><span class="va">prefix</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>prefix</code></dt>
<dd><p>Character string. The prefix to groups or arrays to remove
from the store, including in child groups.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-4">Returns<a class="anchor" aria-label="anchor" href="#returns-4"></a></h4>
<p><code>TRUE</code> if the operation proceeded, <code>FALSE</code> otherwise.</p>
</div>

</div><p></p><hr><a id="method-zarr_localstore-list_dir"></a><div class="section">
<h3 id="method-list-dir-">Method <code>list_dir()</code><a class="anchor" aria-label="anchor" href="#method-list-dir-"></a></h3>
<p>Retrieve all keys and prefixes with a given prefix and which
do not contain the character "/" after the given prefix. In other
words, this retrieves all the nodes in the store below the node
indicated by the prefix.</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">zarr_localstore</span><span class="op">$</span><span class="fu">list_dir</span><span class="op">(</span><span class="va">prefix</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>prefix</code></dt>
<dd><p>Character string. The prefix whose nodes to list.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-5">Returns<a class="anchor" aria-label="anchor" href="#returns-5"></a></h4>
<p>A character array with all keys found in the store immediately
below the <code>prefix</code>, both for groups and arrays.</p>
</div>

</div><p></p><hr><a id="method-zarr_localstore-list_prefix"></a><div class="section">
<h3 id="method-list-prefix-">Method <code>list_prefix()</code><a class="anchor" aria-label="anchor" href="#method-list-prefix-"></a></h3>
<p>Retrieve all keys and prefixes with a given prefix.</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">zarr_localstore</span><span class="op">$</span><span class="fu">list_prefix</span><span class="op">(</span><span class="va">prefix</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>prefix</code></dt>
<dd><p>Character string. The prefix whose nodes to list.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-6">Returns<a class="anchor" aria-label="anchor" href="#returns-6"></a></h4>
<p>A character vector with all paths found in the store below the
<code>prefix</code> location, both for groups and arrays.</p>
</div>

</div><p></p><hr><a id="method-zarr_localstore-set"></a><div class="section">
<h3 id="method-set-">Method <code>set()</code><a class="anchor" aria-label="anchor" href="#method-set-"></a></h3>
<p>Store a <code>(key, value)</code> pair. The key points to a specific
file (shard or chunk of an array) in a store, rather than a group or an
array. The key must be relative to the root of the store (so not start
with a "/") and may be composite. It must include the name of the file.
An example would be "group/subgroup/array/c0.0.0". The group hierarchy
and the array must have been created before. If the <code>value</code> exists, it
will be overwritten.</p><div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">zarr_localstore</span><span class="op">$</span><span class="fu">set</span><span class="op">(</span><span class="va">key</span>, <span class="va">value</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-6">Arguments<a class="anchor" aria-label="anchor" href="#arguments-6"></a></h4>
<p></p><div class="arguments"><dl><dt><code>key</code></dt>
<dd><p>The key whose value to set.</p></dd>


<dt><code>value</code></dt>
<dd><p>The value to set, a complete chunk of data, a <code>raw</code> vector.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-7">Returns<a class="anchor" aria-label="anchor" href="#returns-7"></a></h4>
<p>Self, invisibly, or an error.</p>
</div>

</div><p></p><hr><a id="method-zarr_localstore-set_if_not_exists"></a><div class="section">
<h3 id="method-set-if-not-exists-">Method <code>set_if_not_exists()</code><a class="anchor" aria-label="anchor" href="#method-set-if-not-exists-"></a></h3>
<p>Store a <code>(key, value)</code> pair. The key points to a specific
file (shard or chunk of an array) in a store, rather than a group or an
array. The key must be relative to the root of the store (so not start
with a "/") and may be composite. It must include the name of the file.
An example would be "group/subgroup/array/c0.0.0". The group hierarchy
and the array must have been created before. If the <code>key</code> exists,
nothing will be written.</p><div class="section">
<h4 id="usage-8">Usage<a class="anchor" aria-label="anchor" href="#usage-8"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">zarr_localstore</span><span class="op">$</span><span class="fu">set_if_not_exists</span><span class="op">(</span><span class="va">key</span>, <span class="va">value</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-7">Arguments<a class="anchor" aria-label="anchor" href="#arguments-7"></a></h4>
<p></p><div class="arguments"><dl><dt><code>key</code></dt>
<dd><p>The key whose value to set.</p></dd>


<dt><code>value</code></dt>
<dd><p>The value to set, a complete chunk of data.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-8">Returns<a class="anchor" aria-label="anchor" href="#returns-8"></a></h4>
<p>Self, invisibly, or an error.</p>
</div>

</div><p></p><hr><a id="method-zarr_localstore-get"></a><div class="section">
<h3 id="method-get-">Method <code><a href="https://rdrr.io/r/base/get.html" class="external-link">get()</a></code><a class="anchor" aria-label="anchor" href="#method-get-"></a></h3>
<p>Retrieve the value associated with a given key.</p><div class="section">
<h4 id="usage-9">Usage<a class="anchor" aria-label="anchor" href="#usage-9"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">zarr_localstore</span><span class="op">$</span><span class="fu">get</span><span class="op">(</span><span class="va">key</span>, prototype <span class="op">=</span> <span class="cn">NULL</span>, byte_range <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-8">Arguments<a class="anchor" aria-label="anchor" href="#arguments-8"></a></h4>
<p></p><div class="arguments"><dl><dt><code>key</code></dt>
<dd><p>Character string. The key for which to get data.</p></dd>


<dt><code>prototype</code></dt>
<dd><p>Ignored. The only buffer type that is supported maps
directly to an R raw vector.</p></dd>


<dt><code>byte_range</code></dt>
<dd><p>If <code>NULL</code>, all data associated with the key is
retrieved. If a single positive integer, all bytes starting from a
given byte offset to the end of the object are returned. If a single
negative integer, the final bytes are returned. If an integer vector of
length 2, request a specific range of bytes where the end is exclusive.
If the range ends after the end of the object, the entire remainder of
the object will be returned. If the given range is zero-length or
starts after the end of the object, an error will be returned.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-9">Returns<a class="anchor" aria-label="anchor" href="#returns-9"></a></h4>
<p>An raw vector of data, or <code>NULL</code> if no data was found.</p>
</div>

</div><p></p><hr><a id="method-zarr_localstore-get_metadata"></a><div class="section">
<h3 id="method-get-metadata-">Method <code>get_metadata()</code><a class="anchor" aria-label="anchor" href="#method-get-metadata-"></a></h3>
<p>Retrieve the metadata document of the node at the location
indicated by the <code>prefix</code> argument. The metadata will always be
presented to the caller in the Zarr v.3 format.</p><div class="section">
<h4 id="usage-10">Usage<a class="anchor" aria-label="anchor" href="#usage-10"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">zarr_localstore</span><span class="op">$</span><span class="fu">get_metadata</span><span class="op">(</span><span class="va">prefix</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-9">Arguments<a class="anchor" aria-label="anchor" href="#arguments-9"></a></h4>
<p></p><div class="arguments"><dl><dt><code>prefix</code></dt>
<dd><p>The prefix of the node whose metadata document to retrieve.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-10">Returns<a class="anchor" aria-label="anchor" href="#returns-10"></a></h4>
<p>A list with the metadata, or <code>NULL</code> if the prefix is not pointing
to a Zarr group or array.</p>
</div>

</div><p></p><hr><a id="method-zarr_localstore-set_metadata"></a><div class="section">
<h3 id="method-set-metadata-">Method <code>set_metadata()</code><a class="anchor" aria-label="anchor" href="#method-set-metadata-"></a></h3>
<p>Set the metadata document of the node at the location
indicated by the <code>prefix</code> argument. The formatting of the metadata
should always use the Zarr v.3 format, it will be converted internally
if the store is Zarr v.2.</p><div class="section">
<h4 id="usage-11">Usage<a class="anchor" aria-label="anchor" href="#usage-11"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">zarr_localstore</span><span class="op">$</span><span class="fu">set_metadata</span><span class="op">(</span><span class="va">prefix</span>, <span class="va">metadata</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-10">Arguments<a class="anchor" aria-label="anchor" href="#arguments-10"></a></h4>
<p></p><div class="arguments"><dl><dt><code>prefix</code></dt>
<dd><p>The prefix of the node whose metadata document to set.</p></dd>


<dt><code>metadata</code></dt>
<dd><p>The metadata to persist, either a <code>list</code> or an instance
of <a href="array_builder.html">array_builder</a>.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-11">Returns<a class="anchor" aria-label="anchor" href="#returns-11"></a></h4>
<p>Self, invisible</p>
</div>

</div><p></p><hr><a id="method-zarr_localstore-is_group"></a><div class="section">
<h3 id="method-is-group-">Method <code>is_group()</code><a class="anchor" aria-label="anchor" href="#method-is-group-"></a></h3>
<p>Test if <code>path</code> is pointing to a Zarr group.</p><div class="section">
<h4 id="usage-12">Usage<a class="anchor" aria-label="anchor" href="#usage-12"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">zarr_localstore</span><span class="op">$</span><span class="fu">is_group</span><span class="op">(</span><span class="va">path</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-11">Arguments<a class="anchor" aria-label="anchor" href="#arguments-11"></a></h4>
<p></p><div class="arguments"><dl><dt><code>path</code></dt>
<dd><p>The path to test.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-12">Returns<a class="anchor" aria-label="anchor" href="#returns-12"></a></h4>
<p><code>TRUE</code> if the <code>path</code> points to a Zarr group, <code>FALSE</code> otherwise.</p>
</div>

</div><p></p><hr><a id="method-zarr_localstore-create_group"></a><div class="section">
<h3 id="method-create-group-">Method <code>create_group()</code><a class="anchor" aria-label="anchor" href="#method-create-group-"></a></h3>
<p>Create a new group in the store under the specified path.</p><div class="section">
<h4 id="usage-13">Usage<a class="anchor" aria-label="anchor" href="#usage-13"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">zarr_localstore</span><span class="op">$</span><span class="fu">create_group</span><span class="op">(</span><span class="va">path</span>, <span class="va">name</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-12">Arguments<a class="anchor" aria-label="anchor" href="#arguments-12"></a></h4>
<p></p><div class="arguments"><dl><dt><code>path</code></dt>
<dd><p>The path to the parent group of the new group. Ignored when
creating a root group.</p></dd>


<dt><code>name</code></dt>
<dd><p>The name of the new group. This may be an empty string <code>""</code>
to create a root group. It is an error to supply an empty string if a
root group or array already exists.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-13">Returns<a class="anchor" aria-label="anchor" href="#returns-13"></a></h4>
<p>A list with the metadata of the group, or an error if the group
could not be created.</p>
</div>

</div><p></p><hr><a id="method-zarr_localstore-create_array"></a><div class="section">
<h3 id="method-create-array-">Method <code>create_array()</code><a class="anchor" aria-label="anchor" href="#method-create-array-"></a></h3>
<p>Create a new array in the store under the specified path to
the <code>parent</code> argument.</p><div class="section">
<h4 id="usage-14">Usage<a class="anchor" aria-label="anchor" href="#usage-14"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">zarr_localstore</span><span class="op">$</span><span class="fu">create_array</span><span class="op">(</span><span class="va">parent</span>, <span class="va">name</span>, <span class="va">metadata</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-13">Arguments<a class="anchor" aria-label="anchor" href="#arguments-13"></a></h4>
<p></p><div class="arguments"><dl><dt><code>parent</code></dt>
<dd><p>The path to the parent group of the new array. Ignored when
creating a root array.</p></dd>


<dt><code>name</code></dt>
<dd><p>The name of the new array. This may be an empty string <code>""</code>
to create a root array. It is an error to supply an empty string if a
root group or array already exists.</p></dd>


<dt><code>metadata</code></dt>
<dd><p>A <code>list</code> with the metadata for the array. The list has to
be valid for array construction. Use the <a href="array_builder.html">array_builder</a> class to
create and or test for validity. An element "chunk_key_encoding" will
be added to the metadata if not already present or with a value other
than a dot "." or a slash "/".</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-14">Returns<a class="anchor" aria-label="anchor" href="#returns-14"></a></h4>
<p>A list with the metadata of the array, or an error if the array
could not be created.</p>
</div>

</div>

    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Patrick Van Laake.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

